(self.webpackChunkapp_pkgs_finserv_product_catalog=self.webpackChunkapp_pkgs_finserv_product_catalog||[]).push([[632],{9632:(q,P,O)=>{O.r(P),O.d(P,{ClassTransformer:()=>C,Exclude:()=>k,Expose:()=>j,Transform:()=>K,TransformInstanceToInstance:()=>D,TransformInstanceToPlain:()=>z,TransformPlainToInstance:()=>B,TransformationType:()=>u,Type:()=>R,classToClassFromExist:()=>X,classToPlain:()=>V,classToPlainFromExist:()=>J,deserialize:()=>Z,deserializeArray:()=>$,instanceToInstance:()=>W,instanceToPlain:()=>G,plainToClass:()=>U,plainToClassFromExist:()=>Q,plainToInstance:()=>H,serialize:()=>Y});var u=function(i){return i[i.PLAIN_TO_CLASS=0]="PLAIN_TO_CLASS",i[i.CLASS_TO_PLAIN=1]="CLASS_TO_PLAIN",i[i.CLASS_TO_CLASS=2]="CLASS_TO_CLASS",i}(u||{});const S=new class E{constructor(){this._typeMetadatas=new Map,this._transformMetadatas=new Map,this._exposeMetadatas=new Map,this._excludeMetadatas=new Map,this._ancestorsMap=new Map}addTypeMetadata(t){this._typeMetadatas.has(t.target)||this._typeMetadatas.set(t.target,new Map),this._typeMetadatas.get(t.target).set(t.propertyName,t)}addTransformMetadata(t){this._transformMetadatas.has(t.target)||this._transformMetadatas.set(t.target,new Map),this._transformMetadatas.get(t.target).has(t.propertyName)||this._transformMetadatas.get(t.target).set(t.propertyName,[]),this._transformMetadatas.get(t.target).get(t.propertyName).push(t)}addExposeMetadata(t){this._exposeMetadatas.has(t.target)||this._exposeMetadatas.set(t.target,new Map),this._exposeMetadatas.get(t.target).set(t.propertyName,t)}addExcludeMetadata(t){this._excludeMetadatas.has(t.target)||this._excludeMetadatas.set(t.target,new Map),this._excludeMetadatas.get(t.target).set(t.propertyName,t)}findTransformMetadatas(t,e,n){return this.findMetadatas(this._transformMetadatas,t,e).filter(a=>!a.options||!0===a.options.toClassOnly&&!0===a.options.toPlainOnly||(!0===a.options.toClassOnly?n===u.CLASS_TO_CLASS||n===u.PLAIN_TO_CLASS:!0!==a.options.toPlainOnly||n===u.CLASS_TO_PLAIN))}findExcludeMetadata(t,e){return this.findMetadata(this._excludeMetadatas,t,e)}findExposeMetadata(t,e){return this.findMetadata(this._exposeMetadatas,t,e)}findExposeMetadataByCustomName(t,e){return this.getExposedMetadatas(t).find(n=>n.options&&n.options.name===e)}findTypeMetadata(t,e){return this.findMetadata(this._typeMetadatas,t,e)}getStrategy(t){const e=this._excludeMetadatas.get(t),n=e&&e.get(void 0),a=this._exposeMetadatas.get(t),r=a&&a.get(void 0);return n&&r||!n&&!r?"none":n?"excludeAll":"exposeAll"}getExposedMetadatas(t){return this.getMetadata(this._exposeMetadatas,t)}getExcludedMetadatas(t){return this.getMetadata(this._excludeMetadatas,t)}getExposedProperties(t,e){return this.getExposedMetadatas(t).filter(n=>!n.options||!0===n.options.toClassOnly&&!0===n.options.toPlainOnly||(!0===n.options.toClassOnly?e===u.CLASS_TO_CLASS||e===u.PLAIN_TO_CLASS:!0!==n.options.toPlainOnly||e===u.CLASS_TO_PLAIN)).map(n=>n.propertyName)}getExcludedProperties(t,e){return this.getExcludedMetadatas(t).filter(n=>!n.options||!0===n.options.toClassOnly&&!0===n.options.toPlainOnly||(!0===n.options.toClassOnly?e===u.CLASS_TO_CLASS||e===u.PLAIN_TO_CLASS:!0!==n.options.toPlainOnly||e===u.CLASS_TO_PLAIN)).map(n=>n.propertyName)}clear(){this._typeMetadatas.clear(),this._exposeMetadatas.clear(),this._excludeMetadatas.clear(),this._ancestorsMap.clear()}getMetadata(t,e){const n=t.get(e);let a;n&&(a=Array.from(n.values()).filter(c=>void 0!==c.propertyName));const r=[];for(const c of this.getAncestors(e)){const s=t.get(c);if(s){const o=Array.from(s.values()).filter(p=>void 0!==p.propertyName);r.push(...o)}}return r.concat(a||[])}findMetadata(t,e,n){const a=t.get(e);if(a){const r=a.get(n);if(r)return r}for(const r of this.getAncestors(e)){const c=t.get(r);if(c){const s=c.get(n);if(s)return s}}}findMetadatas(t,e,n){const a=t.get(e);let r;a&&(r=a.get(n));const c=[];for(const s of this.getAncestors(e)){const o=t.get(s);o&&o.has(n)&&c.push(...o.get(n))}return c.slice().reverse().concat((r||[]).slice().reverse())}getAncestors(t){if(!t)return[];if(!this._ancestorsMap.has(t)){const e=[];for(let n=Object.getPrototypeOf(t.prototype.constructor);typeof n.prototype<"u";n=Object.getPrototypeOf(n.prototype.constructor))e.push(n);this._ancestorsMap.set(t,e)}return this._ancestorsMap.get(t)}};class A{constructor(t,e){this.transformationType=t,this.options=e,this.recursionStack=new Set}transform(t,e,n,a,r,c=0){if(Array.isArray(e)||e instanceof Set){const s=a&&this.transformationType===u.PLAIN_TO_CLASS?function b(i){const t=new i;return t instanceof Set||"push"in t?t:[]}(a):[];return e.forEach((o,p)=>{const _=t?t[p]:void 0;if(this.options.enableCircularCheck&&this.isCircular(o))this.transformationType===u.CLASS_TO_CLASS&&(s instanceof Set?s.add(o):s.push(o));else{let h;if("function"!=typeof n&&n&&n.options&&n.options.discriminator&&n.options.discriminator.property&&n.options.discriminator.subTypes){if(this.transformationType===u.PLAIN_TO_CLASS){h=n.options.discriminator.subTypes.find(M=>M.name===o[n.options.discriminator.property]);const y=n.typeFunction({newObject:s,object:o,property:void 0});h=void 0===h?y:h.value,n.options.keepDiscriminatorProperty||delete o[n.options.discriminator.property]}this.transformationType===u.CLASS_TO_CLASS&&(h=o.constructor),this.transformationType===u.CLASS_TO_PLAIN&&(o[n.options.discriminator.property]=n.options.discriminator.subTypes.find(d=>d.value===o.constructor).name)}else h=n;const T=this.transform(_,o,h,void 0,o instanceof Map,c+1);s instanceof Set?s.add(T):s.push(T)}}),s}if(n===String&&!r)return null==e?e:String(e);if(n===Number&&!r)return null==e?e:Number(e);if(n===Boolean&&!r)return null==e?e:!!e;if((n===Date||e instanceof Date)&&!r)return e instanceof Date?new Date(e.valueOf()):null==e?e:new Date(e);if(function w(){return typeof globalThis<"u"?globalThis:typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:void 0}().Buffer&&(n===Buffer||e instanceof Buffer)&&!r)return null==e?e:Buffer.from(e);if(function F(i){return null!==i&&"object"==typeof i&&"function"==typeof i.then}(e)&&!r)return new Promise((s,o)=>{e.then(p=>s(this.transform(void 0,p,n,void 0,void 0,c+1)),o)});if(!r&&null!==e&&"object"==typeof e&&"function"==typeof e.then)return e;if("object"==typeof e&&null!==e){!n&&e.constructor!==Object&&(!Array.isArray(e)&&e.constructor===Array||(n=e.constructor)),!n&&t&&(n=t.constructor),this.options.enableCircularCheck&&this.recursionStack.add(e);const s=this.getKeys(n,e,r);let o=t||{};!t&&(this.transformationType===u.PLAIN_TO_CLASS||this.transformationType===u.CLASS_TO_CLASS)&&(o=r?new Map:n?new n:{});for(const p of s){if("__proto__"===p||"constructor"===p)continue;const _=p;let d,h=p,T=p;if(!this.options.ignoreDecorators&&n)if(this.transformationType===u.PLAIN_TO_CLASS){const f=S.findExposeMetadataByCustomName(n,p);f&&(T=f.propertyName,h=f.propertyName)}else if(this.transformationType===u.CLASS_TO_PLAIN||this.transformationType===u.CLASS_TO_CLASS){const f=S.findExposeMetadata(n,p);f&&f.options&&f.options.name&&(h=f.options.name)}d=this.transformationType===u.PLAIN_TO_CLASS?e[_]:e instanceof Map?e.get(_):e[_]instanceof Function?e[_]():e[_];let y,M=d instanceof Map;if(n&&r)y=n;else if(n){const f=S.findTypeMetadata(n,T);if(f){const N=f.typeFunction?f.typeFunction({newObject:o,object:e,property:T}):f.reflectedType;f.options&&f.options.discriminator&&f.options.discriminator.property&&f.options.discriminator.subTypes?e[_]instanceof Array?y=f:(this.transformationType===u.PLAIN_TO_CLASS&&(y=f.options.discriminator.subTypes.find(L=>{if(d&&d instanceof Object&&f.options.discriminator.property in d)return L.name===d[f.options.discriminator.property]}),y=void 0===y?N:y.value,f.options.keepDiscriminatorProperty||d&&d instanceof Object&&f.options.discriminator.property in d&&delete d[f.options.discriminator.property]),this.transformationType===u.CLASS_TO_CLASS&&(y=d.constructor),this.transformationType===u.CLASS_TO_PLAIN&&d&&(d[f.options.discriminator.property]=f.options.discriminator.subTypes.find(L=>L.value===d.constructor).name)):y=N,M=M||f.reflectedType===Map}else if(this.options.targetMaps)this.options.targetMaps.filter(l=>l.target===n&&!!l.properties[T]).forEach(l=>y=l.properties[T]);else if(this.options.enableImplicitConversion&&this.transformationType===u.PLAIN_TO_CLASS){const l=Reflect.getMetadata("design:type",n.prototype,T);l&&(y=l)}}const g=Array.isArray(e[_])?this.getReflectedType(n,T):void 0,I=t?t[_]:void 0;if(o.constructor.prototype){const f=Object.getOwnPropertyDescriptor(o.constructor.prototype,h);if((this.transformationType===u.PLAIN_TO_CLASS||this.transformationType===u.CLASS_TO_CLASS)&&(f&&!f.set||o[h]instanceof Function))continue}if(this.options.enableCircularCheck&&this.isCircular(d)){if(this.transformationType===u.CLASS_TO_CLASS){let f=d;f=this.applyCustomTransformations(f,n,p,e,this.transformationType),(void 0!==f||this.options.exposeUnsetFields)&&(o instanceof Map?o.set(h,f):o[h]=f)}}else{const f=this.transformationType===u.PLAIN_TO_CLASS?h:p;let l;this.transformationType===u.CLASS_TO_PLAIN?(l=e[f],l=this.applyCustomTransformations(l,n,f,e,this.transformationType),l=e[f]===l?d:l,l=this.transform(I,l,y,g,M,c+1)):void 0===d&&this.options.exposeDefaultValues?l=o[h]:(l=this.transform(I,d,y,g,M,c+1),l=this.applyCustomTransformations(l,n,f,e,this.transformationType)),(void 0!==l||this.options.exposeUnsetFields)&&(o instanceof Map?o.set(h,l):o[h]=l)}}return this.options.enableCircularCheck&&this.recursionStack.delete(e),o}return e}applyCustomTransformations(t,e,n,a,r){let c=S.findTransformMetadatas(e,n,this.transformationType);return void 0!==this.options.version&&(c=c.filter(s=>!s.options||this.checkVersion(s.options.since,s.options.until))),c=c.filter(this.options.groups&&this.options.groups.length?s=>!s.options||this.checkGroups(s.options.groups):s=>!s.options||!s.options.groups||!s.options.groups.length),c.forEach(s=>{t=s.transformFn({value:t,key:n,obj:a,type:r,options:this.options})}),t}isCircular(t){return this.recursionStack.has(t)}getReflectedType(t,e){if(!t)return;const n=S.findTypeMetadata(t,e);return n?n.reflectedType:void 0}getKeys(t,e,n){let a=S.getStrategy(t);"none"===a&&(a=this.options.strategy||"exposeAll");let r=[];if(("exposeAll"===a||n)&&(r=e instanceof Map?Array.from(e.keys()):Object.keys(e)),n)return r;if(this.options.ignoreDecorators&&this.options.excludeExtraneousValues&&t&&(r=[...S.getExposedProperties(t,this.transformationType),...S.getExcludedProperties(t,this.transformationType)]),!this.options.ignoreDecorators&&t){let c=S.getExposedProperties(t,this.transformationType);this.transformationType===u.PLAIN_TO_CLASS&&(c=c.map(o=>{const p=S.findExposeMetadata(t,o);return p&&p.options&&p.options.name?p.options.name:o})),r=this.options.excludeExtraneousValues?c:r.concat(c);const s=S.getExcludedProperties(t,this.transformationType);s.length>0&&(r=r.filter(o=>!s.includes(o))),void 0!==this.options.version&&(r=r.filter(o=>{const p=S.findExposeMetadata(t,o);return!p||!p.options||this.checkVersion(p.options.since,p.options.until)})),r=r.filter(this.options.groups&&this.options.groups.length?o=>{const p=S.findExposeMetadata(t,o);return!p||!p.options||this.checkGroups(p.options.groups)}:o=>{const p=S.findExposeMetadata(t,o);return!(p&&p.options&&p.options.groups&&p.options.groups.length)})}return this.options.excludePrefixes&&this.options.excludePrefixes.length&&(r=r.filter(c=>this.options.excludePrefixes.every(s=>c.substr(0,s.length)!==s))),r=r.filter((c,s,o)=>o.indexOf(c)===s),r}checkVersion(t,e){let n=!0;return n&&t&&(n=this.options.version>=t),n&&e&&(n=this.options.version<e),n}checkGroups(t){return!t||this.options.groups.some(e=>t.includes(e))}}const x={enableCircularCheck:!1,enableImplicitConversion:!1,excludeExtraneousValues:!1,excludePrefixes:void 0,exposeDefaultValues:!1,exposeUnsetFields:!0,groups:void 0,ignoreDecorators:!1,strategy:void 0,targetMaps:void 0,version:void 0};class C{instanceToPlain(t,e){return new A(u.CLASS_TO_PLAIN,{...x,...e}).transform(void 0,t,void 0,void 0,void 0,void 0)}classToPlainFromExist(t,e,n){return new A(u.CLASS_TO_PLAIN,{...x,...n}).transform(e,t,void 0,void 0,void 0,void 0)}plainToInstance(t,e,n){return new A(u.PLAIN_TO_CLASS,{...x,...n}).transform(void 0,e,t,void 0,void 0,void 0)}plainToClassFromExist(t,e,n){return new A(u.PLAIN_TO_CLASS,{...x,...n}).transform(t,e,void 0,void 0,void 0,void 0)}instanceToInstance(t,e){return new A(u.CLASS_TO_CLASS,{...x,...e}).transform(void 0,t,void 0,void 0,void 0,void 0)}classToClassFromExist(t,e,n){return new A(u.CLASS_TO_CLASS,{...x,...n}).transform(e,t,void 0,void 0,void 0,void 0)}serialize(t,e){return JSON.stringify(this.instanceToPlain(t,e))}deserialize(t,e,n){const a=JSON.parse(e);return this.plainToInstance(t,a,n)}deserializeArray(t,e,n){const a=JSON.parse(e);return this.plainToInstance(t,a,n)}}function k(i={}){return function(t,e){S.addExcludeMetadata({target:t instanceof Function?t:t.constructor,propertyName:e,options:i})}}function j(i={}){return function(t,e){S.addExposeMetadata({target:t instanceof Function?t:t.constructor,propertyName:e,options:i})}}function D(i){return function(t,e,n){const a=new C,r=n.value;n.value=function(...c){const s=r.apply(this,c);return!s||"object"!=typeof s&&"function"!=typeof s||"function"!=typeof s.then?a.instanceToInstance(s,i):s.then(p=>a.instanceToInstance(p,i))}}}function z(i){return function(t,e,n){const a=new C,r=n.value;n.value=function(...c){const s=r.apply(this,c);return!s||"object"!=typeof s&&"function"!=typeof s||"function"!=typeof s.then?a.instanceToPlain(s,i):s.then(p=>a.instanceToPlain(p,i))}}}function B(i,t){return function(e,n,a){const r=new C,c=a.value;a.value=function(...s){const o=c.apply(this,s);return!o||"object"!=typeof o&&"function"!=typeof o||"function"!=typeof o.then?r.plainToInstance(i,o,t):o.then(_=>r.plainToInstance(i,_,t))}}}function K(i,t={}){return function(e,n){S.addTransformMetadata({target:e.constructor,propertyName:n,transformFn:i,options:t})}}function R(i,t={}){return function(e,n){const a=Reflect.getMetadata("design:type",e,n);S.addTypeMetadata({target:e.constructor,propertyName:n,reflectedType:a,typeFunction:i,options:t})}}const m=new C;function V(i,t){return m.instanceToPlain(i,t)}function G(i,t){return m.instanceToPlain(i,t)}function J(i,t,e){return m.classToPlainFromExist(i,t,e)}function U(i,t,e){return m.plainToInstance(i,t,e)}function H(i,t,e){return m.plainToInstance(i,t,e)}function Q(i,t,e){return m.plainToClassFromExist(i,t,e)}function W(i,t){return m.instanceToInstance(i,t)}function X(i,t,e){return m.classToClassFromExist(i,t,e)}function Y(i,t){return m.serialize(i,t)}function Z(i,t,e){return m.deserialize(i,t,e)}function $(i,t,e){return m.deserializeArray(i,t,e)}}}]);